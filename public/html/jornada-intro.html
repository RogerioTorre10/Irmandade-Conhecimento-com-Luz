<!doctype html>
<html lang="pt-br">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Jornada Conhecimento com Luz ¬∑ Introdu√ß√£o</title>
  <link rel="icon" href="/assets/img/perfil-da-irmandade.png" type="image/png">
  <link rel="stylesheet" href="/styles.css">
  <link rel="stylesheet" href="/css/chama.css"> <!-- üî• estilo da chama -->
</head>

<body>
  <main class="container">
    <div class="pergaminho-frame">
      <img src="/assets/img/pergaminho-rasgado-vert.png" alt="Pergaminho" class="pergaminho-img" aria-hidden="true">
      <div class="pergaminho-layer">

        <!-- Se√ß√£o de introdu√ß√£o integrada -->
        <section id="section-intro" data-section class="intro-bloco">
          <h1>Bem-vindo(a) √† Jornada Essencial</h1>
          <p id="intro-p1" data-typing="true" data-text="Esta √© uma experi√™ncia de reflex√£o profunda, simb√≥lica e acolhedora." data-speed="36" data-cursor="true"></p>
          <p id="intro-p2" data-typing="true" data-text="Leia com aten√ß√£o o Termo de Responsabilidade e siga quando estiver pronto(a)." data-speed="36" data-cursor="true"></p>

          <div class="termo">
            <h2>Termo de Responsabilidade e Consentimento</h2>
            <p>
              Ao iniciar, voc√™ concorda em participar de forma consciente, sabendo que
              este material √© de autoconhecimento e n√£o substitui apoio m√©dico ou psicol√≥gico.
            </p>
          </div>

          <footer>
            <button id="btn-avancar" class="btn btn-primary">Iniciar Jornada</button>
          </footer>

          <div class="intro-acoes">
            <a class="btn" href="/jornadas.html">Voltar √† p√°gina das Jornadas</a>
          </div>
        </section>

        <!-- Se√ß√£o de senha (exemplo m√≠nimo) -->
        <section id="section-senha" data-section class="senha-bloco section-hidden" aria-hidden="true">
          <h2>Prote√ß√£o da Jornada</h2>
          <form id="form-senha">
            <input type="password" id="senha-input" maxlength="6" placeholder="Digite sua senha" />
            <span id="senha-eye">üëÅÔ∏è</span>
            <div id="senha-countdown"></div>
            <button id="btn-senha-avancar" class="btn" disabled>Avan√ßar</button>
          </form>
        </section>

        <!-- Se√ß√£o de perguntas ser√° carregada dinamicamente -->
        <section id="section-perguntas" data-section class="section-hidden" aria-hidden="true">
          <div id="perguntas-container"></div>
        </section>

      </div>
    </div>
  </main>

  <!-- Scripts da jornada -->
  <script src="/assets/js/i18n.js"></script>
  <script src="/assets/js/config.js"></script>
  <script src="/assets/js/toast-safe.js"></script>
  <script src="/assets/js/jornada-shims.js"></script>
  <script src="/assets/js/jornada-utils.js"></script>
  <script src="/assets/js/api.js"></script>
  <script src="/assets/js/jornada-core.js"></script>
  <script src="/assets/js/jornada-render.js"></script>
  <script src="/assets/js/jornada-secoes.js"></script>
  <script src="/assets/js/jornada-chama.js"></script>
  <script src="/assets/js/video-transicao.js"></script>
  <script src="/assets/js/jornada-guia-selfie.js"></script>
  <script src="/assets/js/jornada-auth.js"></script>
  <script src="/assets/js/jornada-paper-qa.js"></script>
  <script src="/assets/js/jornada-typing-bridge.js"></script>
  <script src="/assets/js/jornada-controller.js"></script>
  <script src="/assets/js/jornada-micro.js"></script>
  <script src="/assets/js/jornada-bootstrap.js"></script>

  <!-- Inicializa√ß√£o espec√≠fica -->
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const el1 = document.getElementById('intro-p1');
      const el2 = document.getElementById('intro-p2');
      window.runTyping?.(el1, el1.dataset.text, () => {
        window.runTyping?.(el2, el2.dataset.text);
      });

      document.getElementById('btn-avancar')?.addEventListener('click', () => {
        window.JC?.goNext('section-senha');
      });

      document.getElementById('senha-input')?.addEventListener('input', () => {
        const btn = document.getElementById('btn-senha-avancar');
        btn.disabled = !(document.getElementById('senha-input').value.trim());
      });

      document.getElementById('btn-senha-avancar')?.addEventListener('click', () => {
        window.JC?.goNext('section-guia');
      });

      if (window.JORNADA_AUTH?.init) {
        JORNADA_AUTH.init({
          formSelector: "#form-senha",
          inputSelector: "#senha-input",
          eyeSelector: "#senha-eye",
          countdownSelector: "#senha-countdown",
          onGranted: () => {
            window.JC?.goNext('section-perguntas');
          }
        });
      }
    });
  </script>
</body>
</html>
