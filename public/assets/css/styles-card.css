/* =========================================
   STYLES-CARD v8 — VERSÃO FINAL DESKTOP PERFEITA
   ========================================= */
:root{
  --card-max-w: 560px;
  
  /* DESKTOP - posição exata pro peito da guia do print */
  --card-max-w: 560px;
  --selfie-top-d: 345px;     /* ERA 282 → agora 345px pra descer pro peito! */
  --selfie-h-d: 335px;       /* altura boa pra cobrir até abaixo do peito */
  --selfie-w-d: 252px;
  --gold: #d4af37;
  
  /* Mobile (depois a gente afina) */
  --selfie-top-m: 168px;
  --selfie-h-m: 248px;
  --selfie-w-m: clamp(108px, 46vw, 178px);
  
  --gold: #d4af37;
}

/* Container principal */
#section-card{
  isolation: isolate;
  position: relative;
  min-height: 100vh;
  background: transparent;
  overflow: visible;
}

/* Palco onde a selfie é capturada - IMPORTANTE: altura fixa pra garantir que o botão fique FORA */
#section-card .card-stage{
  position: relative;
  width: min(92vw, var(--card-max-w));
  margin: 0 auto;
  padding: 40px;
  min-height: 780px;        /* ← crucial: garante que o botão fique fora da captura */
  display: flex;
  flex-direction: column;        /* ← coluna pra botão ficar abaixo */
  align-items: center; 
  justify-content: center;
  z-index: 2;
}

/* Fundo da guia (a imagem grande com LUMEN) */
#section-card #guideBg,
#section-card .card-guide-bg{
  width: 100% !important;
  height: auto !important;
  display: block;
  border-radius: 18px;
  position: relative;
  z-index: 1;
}

/* =========================================
   PLACEHOLDER NO PEITO (com borda dourada)
   ========================================= */
#section-card .flame-layer{
  position: absolute !important;
  left: 50%;
  top: var(--selfie-top-d) !important;
  transform: translateX(-50%);
  
  width: var(--selfie-w-d) !important;
  height: var(--selfie-h-d) !important;
  border: 8px solid var(--gold);
  border-radius: 22px;
  background: transparent !important;
  overflow: hidden;
  box-shadow: 0 20px 50px rgba(0,0,0,0.75);
  z-index: 10;
  pointer-events: none;        /* importante: não rouba clique do input/file */
}

#section-card .flame-layer input[type="file"] {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  opacity: 0;
  cursor: pointer;
  z-index: 99;                    /* acima de tudo */
  pointer-events: auto !important;
}

#section-card .flame-layer::before {
  content: "";
  position: absolute;
  inset: 8px;
  background: rgba(20, 0, 40, 0.45);     /* bem leve, só pra dar profundidade */
  border: 2px dashed rgba(212, 175, 55, 0.35);
  border-radius: 14px;
  pointer-events: none;
  z-index: 0;
}

/* Imagem da selfie */
#section-card #selfieImage,
#section-card .flame-selfie {
  position: absolute;
  inset: 8px;                     /* respeita a borda dourada de 8px */
  width: calc(100% - 16px);
  height: calc(100% - 16px);
  object-fit: cover;
  border-radius: 14px;
  z-index: 1;   
  display: block;
}

/* =========================================
   NOME DO USUÁRIO (colado na base do placeholder)
   ========================================= */
#section-card .card-footer{
  position: absolute !important;
  left: 50%;
  top: calc(var(--selfie-top-d) + var(--selfie-h-d) - 54px) !important; /* sobe o nome pra dentro do placeholder */
  transform: translateX(-50%);
  width: var(--selfie-w-d) !important;
  height: 54px;
  z-index: 30;
  pointer-events: none;
}

/* Faixa preta com nome */
#section-card #userNameSlot{
  height: 100%;
  line-height: 54px;
  background: rgba(0,0,0,0.88);
  border-radius: 0 0 18px 18px;
  color: var(--gold);
  font-size: 1.38rem;
  font-weight: 900;
  text-align: center;
  text-transform: uppercase;
  letter-spacing: 1.8px;
  text-shadow: 0 3px 10px black;
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
}

/* Faixa dourada em cima do nome */
#section-card .card-footer::before{
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 9px;
  background: var(--gold);
  border-radius: 18px 18px 0 0;
}

/* =========================================
   BOTÃO FORA DA SELFIE (nunca aparece no download)
   ========================================= */
#section-card .card-actions-below{
  position: relative;
  width: 100%;
  text-align: center;
  margin-top: 80px;           /* espaço depois do card-stage */
  padding: 20px 0 60px;
  z-index: 999;
}

#section-card #btnStartJourney,
#section-card #btnNext{
  display: inline-block !important;
  min-width: 320px;
  padding: 18px 40px;
  font-size: 1.65rem;
  font-weight: 800;
  color: white;
  background: linear-gradient(to bottom, #d4af37, #b8972e);
  border: none;
  border-radius: 50px;
  box-shadow: 0 12px 35px rgba(0,0,0,0.65);
  cursor: pointer;
  transition: all 0.2s;
}

#section-card #btnStartJourney:active,
#section-card #btnNext:active{
  transform: translateY(4px);
  box-shadow: 0 6px 16px rgba(0,0,0,0.6);
}

/* =========================================
   MOBILE (já deixei pronto pra copiar depois)
   ========================================= */
@media (max-width: 600px){
  #section-card .card-stage{ min-height: 680px; }
  
  #section-card .flame-layer{
    top: var(--selfie-top-m);
    width: var(--selfie-w-m);
    height: var(--selfie-h-m);
    border-width: 7px;
    border-radius: 20px;
  }
  
  #section-card .card-footer{
    top: calc(var(--selfie-top-m) + var(--selfie-h-m) - 48px);
    width: var(--selfie-w-m);
    height: 48px;
  }
  
  #section-card #userNameSlot{
    line-height: 48px;
    font-size: 1.22rem;
  }
}
