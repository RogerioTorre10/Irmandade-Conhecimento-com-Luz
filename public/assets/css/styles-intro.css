/* ============================================================================
   INTRO.CSS — harmonizado com styles-base.css (pergaminho) e styles.css (typing)
   ============================================================================ */

/* A seção já usa .pergaminho .pergaminho-v do base.css — aqui só refinamos layout */
#section-intro.pergaminho {
  /* garante altura e respiração visual */
  min-height: 80vh !important;
  height: auto !important;
  padding-top: clamp(16px, 4vh, 36px);
  padding-bottom: clamp(20px, 6vh, 48px);
}

/* Miolo do pergaminho da intro */
#section-intro .parchment-inner-rough{
  display: flex;
  flex-direction: column;
  gap: clamp(8px, 1.8vh, 14px);
  align-items: flex-start;        /* textos à esquerda (coerente com typing) */
  justify-content: flex-start;
  width: 100%;
  max-width: 640px;
  margin: 0 auto;
  background: transparent !important;
  box-shadow: none !important;
}

/* Título e parágrafos com o “charme” (aura) — pega variáveis do brilho-texturas.css */
#section-intro .parchment-title-rough{
  font-size: clamp(20px, 2.6vw, 28px);
  margin: 0 0 6px 0;
  color: #fff;
}
#section-intro .parchment-title-rough,
#section-intro .parchment-text-rough{
  text-shadow:
    0 1px 0 #000,
    0 2px 4px rgba(0,0,0,.55),
    0 0 12px var(--aura-gold),
    0 0 24px var(--aura-amber);
  filter: drop-shadow(0 0 8px var(--aura-gold-soft));
}

/* Parágrafos datilografados (styles.css já define [data-typing], aqui só dosamos) */
#section-intro .parchment-text-rough{
  font-size: clamp(13px, 1.9vw, 16px);
  line-height: 1.45;
  color: #fff;
}

/* Área do botão “Iniciar” criada pelo JS (section-intro.js) */
#section-intro .parchment-actions-rough{
  width: 100%;
  max-width: 640px;
  margin: clamp(10px, 3vh, 18px) auto 0;
  display: flex !important;
  justify-content: center;
  gap: 12px;
  background: transparent !important;
}

/* Botão usando as famílias globais (.btn .btn-primary .btn-stone) */
#section-intro #btn-avancar{
  min-width: 180px;
}

/* Pulso quando liberado pelo JS (classe adicionada após a datilografia) */
#section-intro #btn-avancar.btn-ready-pulse{
  animation: introBtnPulse .9s ease-out 1;
}
@keyframes introBtnPulse{
  0%   { transform: scale(.96); filter: drop-shadow(0 0 10px var(--aura-gold)); }
  60%  { transform: scale(1.04); filter: drop-shadow(0 0 28px var(--aura-gold)); }
  100% { transform: scale(1.00); filter: drop-shadow(0 0 14px var(--aura-gold)); }
}

/* Mobile: dá um respiro extra pros textos */
@media (max-width: 420px){
  #section-intro .parchment-inner-rough{ gap: 10px; }
}

/* Utilitário de segurança: a classe 'hidden' usada pelo JS */
.hidden { display: none !important; }

/* ===== Mobile refinements – INTRO ===== */

/* iOS/Android: altura estável e respeito às safe-areas */
#section-intro.pergaminho{
  min-height: 100svh;                     /* svh = viewport estável no mobile */
  padding-top: max(16px, env(safe-area-inset-top));
  padding-bottom: max(clamp(20px, 6vh, 48px), env(safe-area-inset-bottom));
  padding-left: max(12px, env(safe-area-inset-left));
  padding-right: max(12px, env(safe-area-inset-right));
}

/* Conteúdo central: ocupa bem o espaço em telas estreitas */
#section-intro .parchment-inner-rough{
  width: min(92%, 640px);
}

/* Botões com área de toque confortável (mín. 44px) */
#section-intro .parchment-actions-rough .btn,
#section-intro #btn-avancar{
  min-height: 44px;
  padding: 10px 16px;
}

/* Layout em celulares até 480px */
@media (max-width: 480px){
  #section-intro .parchment-title-rough{
    font-size: clamp(18px, 6vw, 24px);
  }
  #section-intro .parchment-text-rough{
    font-size: clamp(13px, 4vw, 15px);
    line-height: 1.5;
  }
  #section-intro .parchment-actions-rough{
    gap: 10px;
  }
}

/* Celulares bem estreitos (<= 360px): botão 100% */
@media (max-width: 360px){
  #section-intro .parchment-actions-rough{
    justify-content: stretch;
  }
  #section-intro #btn-avancar{
    width: 100%;
  }
}

/* Evita "pulos" durante a datilografia em telas pequenas */
#section-intro { overflow-anchor: none; }

/* === HALO DOURADO INTENSIFICADO (isolado do texto) === */
#section-intro .parchment-inner-rough {
  position: relative;
  z-index: 1;
}

/* camada de brilho por pseudo-elemento */
#section-intro .parchment-inner-rough::before {
  content: "";
  position: absolute;
  inset: -6px; /* espessura da moldura */
  border-radius: 12px;
  pointer-events: none;
  z-index: -1;
  box-shadow:
    0 0 0 4px rgba(255, 210, 80, 0.55) inset,
    0 0 28px rgba(255, 215, 100, 0.65),
    0 0 58px rgba(255, 180, 40, 0.45),
    0 0 90px rgba(255, 200, 80, 0.25);
  animation: parchmentGlow 1.6s ease-in-out infinite;
  transition: all 0.3s ease-in-out;
  opacity: 0; /* invisível até o typing começar */
}

/* ativa o brilho apenas quando o texto está datilografando */
#section-intro:has(.typing-active) .parchment-inner-rough::before {
  opacity: 1;
}

@keyframes parchmentGlow {
  0% {
    box-shadow:
      0 0 0 4px rgba(255, 210, 80, 0.25) inset,
      0 0 20px rgba(255, 220, 110, 0.55),
      0 0 36px rgba(255, 200, 60, 0.38),
      0 0 80px rgba(255, 180, 40, 0.25);
  }
  50% {
    box-shadow:
      0 0 0 4px rgba(255, 210, 80, 0.35) inset,
      0 0 36px rgba(255, 235, 150, 0.75),
      0 0 72px rgba(255, 210, 80, 0.55),
      0 0 120px rgba(255, 200, 60, 0.35);
  }
  100% {
    box-shadow:
      0 0 0 4px rgba(255, 210, 80, 0.25) inset,
      0 0 20px rgba(255, 220, 110, 0.55),
      0 0 36px rgba(255, 200, 60, 0.38),
      0 0 80px rgba(255, 180, 40, 0.25);
  }
}


