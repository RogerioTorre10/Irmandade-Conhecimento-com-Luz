/* =========================================
   STYLES-FINAL — Somente estética interna
   (Layout/vitrine fica no styles-layout.css)
   ========================================= */

/* 1) NÃO deixar o styles-final controlar o palco */
#section-final {
  position: relative !important;
  inset: auto !important;
  height: auto !important;
  min-height: auto !important;
  width: auto !important;
  display: block !important;
  background: transparent !important;
  overflow: visible !important;
  padding: 0 !important;
  margin: 0 !important;
}

/* wrappers não devem “criar caixa preta” gigante */
#section-final .final-pergaminho-wrapper,
#section-final .final-panel,
#section-final .j-perg-v-inner {
  background: transparent !important;
  overflow: visible !important;
}

/* 2) Conteúdo: manter elegante, mas sem forçar centralização global
      (isso é o que fazia o texto “mudar”/centralizar) */
#section-final .pergaminho-content {
  text-align: left !important;            /* fixa LTR visual */
  direction: ltr !important;
  unicode-bidi: plaintext !important;
  padding: 18px 18px 14px !important;
  box-sizing: border-box !important;
}

/* 3) Título e mensagens — tamanhos mais próximos das outras telas */
#section-final .final-title,
#section-final #final-title {
  margin: 0 0 12px !important;
  text-align: center !important;          /* título pode ser centro sem afetar LTR */
  direction: ltr !important;
  unicode-bidi: plaintext !important;
  font-size: clamp(22px, 2.0vw, 30px) !important;
  line-height: 1.18 !important;
}

#section-final .final-message {
  margin: 0 !important;
}

#section-final .final-message p {
  margin: 0 0 12px !important;
  text-align: center !important;          /* se quiser “oração” central, mantém */
  direction: ltr !important;              /* garante datilografia esquerda→direita */
  unicode-bidi: plaintext !important;
  font-size: clamp(15px, 1.25vw, 17px) !important;
  line-height: 1.45 !important;
}

#section-final .final-message .final-bold {
  font-weight: 800 !important;
}

/* 4) Botões — voltar a ficar lado a lado no desktop e “cabíveis” no zoom 100% */
#section-final .final-acoes {
  margin-top: 14px !important;
  display: flex !important;
  flex-direction: row !important;
  justify-content: center !important;
  align-items: stretch !important;
  gap: 12px !important;
  flex-wrap: wrap !important;
  padding-bottom: 6px !important;
}

#section-final .final-acoes > button,
#section-final .final-acoes > a {
  flex: 1 1 210px !important;            /* garante 2 colunas quando couber */
  max-width: 260px !important;
  min-height: 52px !important;
  padding: 10px 14px !important;
  box-sizing: border-box !important;
  white-space: nowrap !important;
}

/* Caso em algum breakpoint o layout force 1 coluna, ainda fica bonito */
@media (max-width: 520px) {
  #section-final .final-acoes > button,
  #section-final .final-acoes > a {
    flex: 1 1 100% !important;
    max-width: 100% !important;
  }
}

/* 5) Datilografia: nunca “puxar” para RTL/centro inesperado */
#section-final .typing-text,
#section-final .typing-active,
#section-final .typing-done {
  direction: ltr !important;
  unicode-bidi: plaintext !important;
}

/* 6) Evitar qualquer scroll lateral “fantasma” causado por sombras/glows */
#section-final,
#section-final * {
  max-width: 100%;
}

body.final-lock {
  overflow-y: hidden !important; /* você pode manter isso */
}

/* 7) Vídeo final: NÃO estilizar aqui se o video-transicao.js já cria overlay próprio.
      Mantemos só um “fallback” seguro, sem criar barra de rolagem. */
#final-video {
  display: none !important;
}

/* =========================================================
   GLOW DO GUIA — (Guia / Selfie / Card) igual Perguntas
   Usa: --progress-main, --progress-glow-1, --progress-glow-2
   ========================================================= */

/* 1) Glow "ambiente" no fundo da seção (como Perguntas) */

#section-final {
  position: relative;
  overflow: visible !important; /* não cortar o glow */
}

/* Glow inferior (vazando) */

#section-final::before {
  content: "";
  position: absolute;
  left: 0;
  right: 0;
  bottom: -70px;                 /* ajuste fino do vazamento */
  height: 160px;                 /* altura do glow */
  pointer-events: none;
  z-index: 0;
  opacity: 0.75;

  background: linear-gradient(
    to bottom,
    transparent,
    var(--progress-glow-1, rgba(255,210,120,0.85)),
    var(--progress-glow-2, rgba(255,210,120,0.40))
  );

  filter: blur(22px);
}

/* 2) Glow forte no “quadro principal” (borda + aura) 
   Aqui usamos seletores em camadas pra pegar o container real, independente do HTML exato.
*/

#section-final .card,
#section-final .glass,
#section-final .glass-panel,
#section-final .card-stage,
#section-final .j-card,
#section-final .j-panel {
  position: relative;
  z-index: 1; /* acima do glow da seção */

  border: 2px solid var(--progress-main, #ffd700) !important;

  box-shadow:
    0 0 18px var(--progress-main, #ffd700),
    0 0 42px var(--progress-glow-1, rgba(255,210,120,0.85)),
    inset 0 0 26px rgba(0,0,0,0.55) !important;

  /* dá um “ar” de luz suave em volta */
  filter: saturate(1.05);
}

/* 3) Borda iluminada em elementos-chave (inputs/caixas) — opcional, mas fica lindo */
##section-final input,
##section-final .input-espinhos,
##section-final .preview-frame,
##section-final .ranges-panel,
##section-final .card,
##section-final .card-inner,
##section-final .card-frame {
  border-color: var(--progress-main, #ffd700) !important;
  box-shadow: 0 0 14px var(--progress-main, #ffd700) !important;
}

/* 4) Responsivo: reduz “vazamento” no mobile para não cortar clique nem estourar layout */
@media (max-width: 600px) {
  
  #section-final::before {
    bottom: -55px;
    height: 130px;
    filter: blur(18px);
    opacity: 0.65;
  }
}


