/* ======================================================
   1) PAINEL EXTERNO — Glow universal (desktop + mobile)
   ====================================================== */

:root{
  --luz-intensity: 1;
}

/* Painel principal (vidro black + moldura dourada) */
.j-panel-glow {
  position: relative;
  width: min(92vw, 520px);           /* mesmo padrão intro */
  max-width: 980px;
  margin: 0 auto;
  padding: 32px 26px;
  border-radius: 26px;
  box-sizing: border-box;

  z-index: 5;
  background: rgba(10,10,20,0.78);   /* vidro black elegante */
  box-shadow:
    0 0 22px rgba(255,215,100,0.35),
    0 0 55px rgba(255,215,130,0.32),
    inset 0 0 22px rgba(255,240,190,0.18);

  backdrop-filter: blur(14px);
  -webkit-backdrop-filter: blur(14px);

  overflow: hidden;
  transition: all .35s ease;

  /* garante presença visual e centralização do conteúdo */
  min-height: min(84vh, 860px);
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Névoa suave no topo */
.j-panel-glow::before {
  content: '';
  position: absolute;
  inset: -30% -30% auto -30%;
  height: 55%;
  background:
    radial-gradient(circle at 50% 40%, rgba(255,255,255,0.14), transparent 68%);
  opacity: 0.55;
  pointer-events: none;
  mix-blend-mode: screen;
  animation: fogDrift 12s ease-in-out infinite;
}

@keyframes fogDrift{
  0%,100% { transform: translateY(0) translateX(0) scale(1); }
  50%     { transform: translateY(8px) translateX(10px) scale(1.04); }
}

/* ======================================================
   2) PAINEL INTERNO (pergaminho / conteúdo)
   ====================================================== */
.j-perg-v-inner{
  position: relative;
  width: 100%;
  max-width: 100%;
  padding: 34px 26px;
  border-radius: 20px;
  background: rgba(0,0,0,0.55);
  box-shadow:
    inset 0 0 24px rgba(0,0,0,0.9),
    0 0 20px rgba(255,215,120,0.18);
}

/* Cartão arcano base */
.j-arcane-card{
  position: relative;
  width: 100%;
  max-width: 100%;
  padding: 18px 16px;
  border-radius: 14px;
  background: rgba(0,0,0,0.55);
  box-shadow:
    inset 0 0 18px rgba(0,0,0,0.85),
    0 0 12px rgba(212,175,55,0.22);
}

.j-arcane-card::before{
  content:'';
  position:absolute;
  inset:0;
  border-radius: inherit;
  box-shadow: inset 0 0 0 2px rgba(212,175,55,0.55);
  opacity: .36;
  pointer-events:none;
}

/* ======================================================
   3) LUZ VIVA (intensidade global)
   ====================================================== */

/* Borda da moldura */
.j-panel-glow::after{
  content:'';
  position:absolute;
  inset:0;
  border-radius: inherit;
  box-shadow:
    0 0 18px rgba(212,175,55,0.9),
    0 0 44px rgba(212,175,55,0.65),
    inset 0 0 14px rgba(255,240,180,0.5);
  opacity: calc(0.18 * var(--luz-intensity)) !important;
  pointer-events:none;
}

/* Névoa interna respira */
.j-panel-glow .glow-fog{
  opacity: calc(0.45 * var(--luz-intensity)) !important;
}

/* Barras de progresso respiram com a luz */
.progress-fill{
  filter: brightness(calc(0.75 * var(--luz-intensity))) !important;
}

/* ======================================================
   4) PORTAL DOURADO — frame real dos vídeos
   ====================================================== */

.jp-video-frame{
  filter:
    brightness(calc(0.85 + (0.25 * var(--luz-intensity))))
    saturate(calc(0.9 + (0.35 * var(--luz-intensity))))
    drop-shadow(0 0 calc(10px * var(--luz-intensity))
      color-mix(in srgb, var(--theme-main-color, #d4af37) 70%, transparent))
    drop-shadow(0 0 calc(26px * var(--luz-intensity))
      color-mix(in srgb, var(--theme-main-color, #d4af37) 45%, transparent))
  !important;
}

.jp-video-overlay{
  background: rgba(0,0,0, calc(0.88 - (0.10 * (var(--luz-intensity) - 1)))) !important;
}

/* ======================================================
   MOBILE ÚNICO — até 600px (unificado, sem duplicações)
   ====================================================== */
@media (max-width: 600px) {

  /* Painel externo (vidro black padrão) */
  .j-panel-glow {
    width: 92vw !important;
    max-width: 520px !important;
    margin: 10px auto !important;
    padding: 26px 18px !important;
    min-height: auto !important;
    height: auto !important;
    overflow: visible !important;
    border-radius: 22px !important;
  }

  /* Pergaminho interno vertical */
  .j-perg-v-inner {
    max-width: 100% !important;
    padding: 24px 18px !important;
    border-radius: 18px !important;
  }

  /* Estruturas internas do painel (se existirem) */
  .j-panel-outer { width: 94% !important; }

  .j-panel-inner {
    max-width: 92% !important;
    padding: 32px 20px !important;
  }

  .j-arcane-card {
    max-width: 100% !important;
    padding: 16px 14px !important;
  }
  .j-arcane-card::before { opacity: 0.30 !important; }

  /* Barras — ajustes finos no mobile */
  .progress-top{
    left: 10px !important;
    right: 72px !important;
  }
  .progress-top .progress-label{ display:none !important; }

  .progress-middle{
    width: min(92%, 440px) !important;
    bottom: -4px !important;
  }

  /* Perguntas: respiro inferior pros botões */
  .section-perguntas .perguntas-wrap{
    padding-bottom: 92px !important;
  }
}
