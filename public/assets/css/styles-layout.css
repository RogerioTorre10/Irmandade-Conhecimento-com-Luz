/* =========================================================
   STYLES-LAYOUT — LAYOUT UNIFICADO DAS SEÇÕES DA JORNADA
   Intro, Termos 1, Termos 2, Senha, Guia, Selfie, Card,
   Perguntas, Final
   ========================================================= */

/* ---------------------------------------------------------
   1) CENTRALIZAÇÃO BASE (vale para todas as seções verticais)
   --------------------------------------------------------- */

#section-intro .j-perg-v-inner,
#section-termos1 .j-perg-v-inner,
#section-termos2 .j-perg-v-inner,
#section-senha  .j-perg-v-inner,
#section-guia   .j-perg-v-inner,
#section-selfie .j-perg-v-inner,
#section-perguntas .j-perg-v-inner,
#section-final  .j-perg-v-inner {
  margin-left: auto;
  margin-right: auto;
}

#section-intro .j-panel-glow,
#section-termos1 .j-panel-glow,
#section-termos2 .j-panel-glow,
#section-senha  .j-panel-glow,
#section-guia   .j-panel-glow,
#section-selfie .j-panel-glow,
#section-perguntas .j-panel-glow,
#section-final  .j-panel-glow {
  margin-left: auto;
  margin-right: auto;
}

/* =========================================================
   2) DESKTOP (>= 900px)
   Pergaminho um pouco mais baixo, card centrado
   ========================================================= */
@media (min-width: 900px) {

  #section-intro .j-perg-v-inner,
  #section-termos1 .j-perg-v-inner,
  #section-termos2 .j-perg-v-inner,
  #section-senha  .j-perg-v-inner,
  #section-guia   .j-perg-v-inner,
  #section-selfie .j-perg-v-inner,
  #section-perguntas .j-perg-v-inner,
  #section-final  .j-perg-v-inner {
    transform: translateY(40px);
  }

  #section-intro .j-panel-glow,
  #section-termos1 .j-panel-glow,
  #section-termos2 .j-panel-glow,
  #section-senha  .j-panel-glow,
  #section-guia   .j-panel-glow,
  #section-selfie .j-panel-glow,
  #section-perguntas .j-panel-glow,
  #section-final  .j-panel-glow {
    transform: translateY(-10px);
  }
}

/* =========================================================
   3) MOBILE BASE (<= 600px)
   Mesma largura/altura de card pra TODAS as seções
   ========================================================= */
@media (max-width: 600px) {

  #section-intro .j-panel-glow,
  #section-termos1 .j-panel-glow,
  #section-termos2 .j-panel-glow,
  #section-senha  .j-panel-glow,
  #section-guia   .j-panel-glow,
  #section-selfie .j-panel-glow,
  #section-perguntas .j-panel-glow,
  #section-final  .j-panel-glow {
    width: min(320px, 84vw);
    max-width: 320px;
    margin: 18px auto 26px;
    padding: 18px 14px 22px;
  }

  #section-intro .j-perg-v-inner,
  #section-termos1 .j-perg-v-inner,
  #section-termos2 .j-perg-v-inner,
  #section-senha  .j-perg-v-inner,
  #section-guia   .j-perg-v-inner,
  #section-selfie .j-perg-v-inner,
  #section-perguntas .j-perg-v-inner,
  #section-final  .j-perg-v-inner {
    transform: translateY(0); /* base neutra; overrides abaixo */
  }
}

/* =========================================================
   4) AJUSTES FINOS – MOBILE
   (valores calibrados pelos teus prints)
   ========================================================= */

/* ---- INTRO: subir um pouco mais ---- */
@media (max-width: 600px) {
  #section-intro .j-panel-glow {
    /* estava -16, subimos mais um pouco */
    transform: translate(-6px, -26px);
  }
}

/* ---- TERMOS 1 e TERMOS 2: sobem um pouco mais ainda ---- */
@media (max-width: 600px) {
  #section-termos1 .j-panel-glow,
  #section-termos2 .j-panel-glow {
    /* estava -26, agora um pouco mais alto */
    transform: translate(-6px, -32px);
  }
}

/* ---- SENHA: sobe e centraliza melhor ---- */
@media (max-width: 600px) {

  /* pergaminho estava levemente deslocado; mantemos o X,
     mas alinhamos um pouco mais no Y */
  #section-senha .j-perg-v-inner {
    transform: translate(-10px, -4px);
  }

  #section-senha .j-panel-glow {
    /* sobe mais um pouquinho em relação ao -24 anterior */
    transform: translate(-4px, -32px);
  }
}

/* ---- GUIA: card com nome/inputs – segue padrão alto e central ---- */
@media (max-width: 600px) {
  #section-guia .j-panel-glow {
    transform: translate(-6px, -30px);
  }
}

/* ---- SELFIE: geralmente o conteúdo é mais alto, mas
       mantemos alinhado com o mesmo eixo do pergaminho ---- */
@media (max-width: 600px) {
  #section-selfie .j-panel-glow {
    transform: translate(-6px, -30px);
  }
}

/* ---- PERGUNTAS: card com perguntas – um pouco mais central ---- */
@media (max-width: 600px) {
  #section-perguntas .j-panel-glow {
    transform: translate(-6px, -30px);
  }
}

/* ---- FINAL: tela de encerramento – segue mesmo eixo ---- */
@media (max-width: 600px) {
  #section-final .j-panel-glow {
    transform: translate(-6px, -30px);
  }
}

/* =========================================================
   AJUSTE FINO – LAYOUT DA PÁGINA SENHA (DESKTOP)
   (um pouco mais alta dentro do pergaminho)
   ========================================================= */
@media (min-width: 900px) {

  /* Pergaminho de fundo da senha */
  #section-senha .j-perg-v-inner {
    position: relative !important;
    transform: translateY(40px) !important; /* antes 80px */
    top: 40px !important;                   /* antes 80px */
    margin-top: 0 !important;
    padding-top: 0 !important;
    overflow: visible !important;
    z-index: 5 !important;
  }

  /* Card (vidro) da senha */
  #section-senha .j-panel-glow {
    position: relative !important;
    transform: translate(-16px, -70px) !important; /* antes 40px */
    top: 10px !important;                   /* antes 40px */
    margin-top: 0 !important;
    width: 90% !important;
    max-width: 470px !important;
    margin-left: auto !important;
    margin-right: auto !important;
    z-index: 6 !important;
  }
}


/* =========================================================
   AJUSTE SELFIE – ALINHAR COM INTRO / TERMOS / SENHA (DESKTOP)
   ========================================================= */
@media (min-width: 900px) {

  /* Pergaminho de fundo da página Selfie */
  #section-selfie .j-perg-v-inner {
    position: relative !important;
    transform: translate(-14px, -100px) !important; /* sobe o bloco dentro do pergaminho */
    margin-top: 0 !important;
    padding-top: 0 !important;
    overflow: visible !important;
    z-index: 5 !important;
  }

  /* Vidro (card) da Selfie */
  #section-selfie .j-panel-glow {
    position: relative !important;
    transform: translate(-18px, -100px) !important; /* acompanha o pergaminho */
    margin-top: 0 !important;
    width: 90% !important;
    max-width: 470px !important;
    margin-left: auto !important;
    margin-right: auto !important;

    z-index: 6 !important;
  }
}

/* =========================================
   GUIA – alinhar botões no vidro (desktop)
   ========================================= */
@media (min-width: 900px) {

 #section-guia .guia-options,
  #section-guia .guia-buttons-row,
  #section-guia .card-actions {
    display: flex;
    justify-content: center;
    gap: 10px;                  /* espaço igual entre eles */
    padding: 0 18px 18px 
    justify-content: space-between;
    align-items: center;
    width: 100%;
    box-sizing: border-box;
  }

  /* Cada botão ocupa ~1/3 e não “vaza” pra fora do card */
  #section-guia .guia-options button,
  #section-guia .guia-buttons-row button,
  #section-guia .card-actions .btn {
    flex: 1 1 0;
    max-width: 32%;
    margin: 0 !important;
    box-sizing: border-box;
  }   
}
/* =========================================
   PAGE CARD – REMOVER O PERGAMINHO GLOBAL
   ========================================= */

/* 1) Isola o fundo global dentro do card */
#section-card,
#section-card * {
  background-image: none !important;
  background: transparent !important;
}

/* 2) Mas NÃO mexe no próprio CARD (mantém intacto) */
#section-card .card-frame,
#section-card .card-shell,
#section-card .card-stage,
#section-card .card-wrapper,
#section-card .card-container {
  background: transparent !important;
}

/* 3) Impede qualquer pseudo-elemento global de aparecer */
#section-card::before,
#section-card::after,
#section-card *::before,
#section-card *::after {
  content: none !important;
}
/* =========================================
   DNA DE LUZ DOS GUIAS – CORES GLOBAIS
   ========================================= */

/* fallback (antes de escolher guia) */
:root {
  --theme-main-color: #ffd874;
  --theme-main-color-soft: rgba(255, 216, 116, 0.25);
}

/* LUMEN – verde dourado */
[data-guide="lumen"] {
  --theme-main-color: #9dff7a;
  --theme-main-color-soft: rgba(157, 255, 122, 0.25);
}

/* ZION – azul dourado */
[data-guide="zion"] {
  --theme-main-color: #7ed8ff;
  --theme-main-color-soft: rgba(126, 216, 255, 0.25);
}

/* ARIAN – magenta dourado */
[data-guide="arian"] {
  --theme-main-color: #ff94ff;
  --theme-main-color-soft: rgba(255, 148, 255, 0.25);
}
/* =========================================
   BOTÕES TEMÁTICOS (perguntas, continuar, etc.)
   ========================================= */

.btn-theme,
.btn.btn-stone-theme,
#section-perguntas .perguntas-actions .btn {
  background: var(--theme-main-color, #ffd874);
  border-color: var(--theme-main-color, #ffd874);
  box-shadow:
    0 0 10px var(--theme-main-color-soft, rgba(255,216,116,0.25)),
    0 0 24px var(--theme-main-color-soft, rgba(255,216,116,0.25));
  transition:
    transform 0.12s ease-out,
    box-shadow 0.18s ease-out,
    background 0.18s ease-out;
}

.btn-theme:hover,
.btn.btn-stone-theme:hover,
#section-perguntas .perguntas-actions .btn:hover {
  transform: translateY(-1px) scale(1.02);
  box-shadow:
    0 0 14px var(--theme-main-color-soft, rgba(255,216,116,0.45)),
    0 0 30px var(--theme-main-color-soft, rgba(255,216,116,0.45));
}

/* =========================================
   REGUAS / MÉTRICAS – TOPO E BASE
   ========================================= */

/* selo 1/14, ícone de pergaminho etc. */
#section-perguntas .perguntas-counter-top,
#section-perguntas .perguntas-counter-badge {
  color: #fff;
  text-shadow: 0 0 8px var(--theme-main-color-soft, rgba(255,216,116,0.6));
}

/* barra principal de progresso */
#section-perguntas .perg-progress-outer {
  position: relative;
  width: 100%;
  max-width: 220px;
  height: 10px;
  border-radius: 999px;
  background: rgba(0, 0, 0, 0.55);
  overflow: hidden;
  box-shadow: 0 0 10px rgba(0,0,0,0.4);
}

/* preenchimento da barra (JS aumenta width) */
#section-perguntas .perg-progress-inner {
  height: 100%;
  width: 0%;
  background: linear-gradient(
    90deg,
    var(--theme-main-color, #ffd874),
    #ffffff
  );
  box-shadow: 0 0 14px var(--theme-main-color-soft, rgba(255,216,116,0.6));
  transition: width 0.35s ease-out;
}
/* CARD DAS PERGUNTAS ILUMINADO PELA COR DO GUIA */
#section-perguntas .j-arcane-card {
  box-shadow:
    0 0 24px var(--theme-main-color-soft, rgba(255,216,116,0.35)),
    0 0 60px rgba(0, 0, 0, 0.8);
}

/* título da pergunta */
#section-perguntas .perguntas-titulo {
  color: #fff;
  text-shadow: 0 0 10px var(--theme-main-color-soft, rgba(255,216,116,0.8));
}

/* ===========================
   SECTION-PERGUNTAS — LAYOUT
   =========================== */

#section-perguntas .perguntas-card {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

/* Cabeçalho: título + contador (1 / 14) */
#section-perguntas .perguntas-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: 6px;
}

/* Bloco da pergunta + textarea */
#section-perguntas .pergunta-wrap {
  margin-top: 4px;
  margin-bottom: 10px;  /* abre espaço pros botões embaixo */
}

/* Rodapé: botões + régua de progresso */
#section-perguntas .perguntas-footer {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

/* linha dos botões */
#section-perguntas .perguntas-actions {
  display: flex;
  justify-content: space-between;
  gap: 8px;
}

/* régua embaixo dos botões */
#section-perguntas .perguntas-progress-bottom {
  height: 8px;
  border-radius: 999px;
  overflow: hidden;
  background: rgba(0,0,0,0.5);
}

/* barra que cresce */
#section-perguntas .perguntas-progress-fill {
  height: 100%;
  width: 0%;
  transition: width 0.4s ease;
}

/* ======================================
   LAYOUT DA PÁGINA PERGUNTAS — V3 LUMEN
   ====================================== */

#section-perguntas .perguntas-card {
  display: flex;
  flex-direction: column;
  gap: 14px;
  padding: 10px 6px;
}

#section-perguntas .perguntas-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

#section-perguntas .pergunta-titulo {
  font-size: 1.25rem;
  color: #fff;
  line-height: 1.3;
}

#section-perguntas .progress-bar {
  background: rgba(0, 0, 0, 0.4);
  height: 8px;
  width: 110px;
  border-radius: 999px;
  overflow: hidden;
  margin-left: 6px;
}

#section-perguntas .progress-bar div {
  height: 100%;
  width: 0%;
  transition: width 0.4s ease;
}

#section-perguntas .area-resposta-frame {
  background: url('/assets/img/pergaminho-rasgado-horiz.png') center/contain no-repeat;
  padding: 18px 10px;
}

#resposta {
  width: 100%;
  min-height: 115px;
  background: #000;
  color: #fff;
  border: 2px solid #645444;
  border-radius: 6px;
  padding: 10px;
  resize: none;
  font-size: 15px;
}

#section-perguntas .perguntas-footer {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

#section-perguntas .perguntas-actions {
  display: flex;
  justify-content: space-between;
  gap: 6px;
}

#section-perguntas .progress-bottom .progress-bar {
  width: 100%;
}
/* LUMEN — verde */
body.guia-lumen #section-perguntas .progress-bar div {
  background: #39eaa9 !important;
  box-shadow: 0 0 12px rgba(57,234,169,0.9);
}

/* ZION — dourado */
body.guia-zion #section-perguntas .progress-bar div {
  background: #ffd166 !important;
  box-shadow: 0 0 12px rgba(255,209,102,0.9);
}

/* ARIAN — magenta */
body.guia-arion #section-perguntas .progress-bar div {
  background: #ff6ad5 !important;
  box-shadow: 0 0 12px rgba(255,106,213,0.9);
}


/* ===========================
   TEMA POR GUIA — PERGUNTAS
   =========================== */

body.guia-lumen #section-perguntas .perguntas-progress-fill,
body.guia-lumen #section-perguntas .btn.btn-primary,
body.guia-lumen #section-perguntas .btn.btn-stone {
  background: #38d996 !important;        /* verde Lumen */
  box-shadow: 0 0 12px rgba(56,217,150,0.8) !important;
  border-color: #2ea87a !important;
}

body.guia-zion #section-perguntas .perguntas-progress-fill,
body.guia-zion #section-perguntas .btn.btn-primary,
body.guia-zion #section-perguntas .btn.btn-stone {
  background: #ffd166 !important;        /* dourado Zion */
  box-shadow: 0 0 12px rgba(255,209,102,0.8) !important;
  border-color: #e5b93c !important;
}

body.guia-arion #section-perguntas .perguntas-progress-fill,
body.guia-arion #section-perguntas .btn.btn-primary,
body.guia-arion #section-perguntas .btn.btn-stone {
  background: #ff6ad5 !important;        /* magenta Arion */
  box-shadow: 0 0 12px rgba(255,106,213,0.8) !important;
  border-color: #e04ab3 !important;
}


/* ===========================
   SECTION-FINAL — ALINHAMENTO
   =========================== */

/* Desktop */
@media (min-width: 900px) {
  #section-final.j-screen-vert .j-perg-v-inner {
    transform: translate(-12px, -80px) !important;  /* sobe o pergaminho */
  }

  #section-final.j-screen-vert .j-panel-glow {
    transform: translate(-16px, -90px) !important;  /* acompanha o vidro */
  }
}

/* Mobile */
@media (max-width: 600px) {
  #section-final .j-perg-v-inner {
    transform: translate(-4px, -40px) !important;
  }

  #section-final .j-panel-glow {
    transform: translate(-6px, -42px) !important;
  }
}
/* ===========================
   VÍDEO FINAL EM TELA CHEIA
   =========================== */

#final-video {
  position: fixed !important;
  top: 50% !important;
  left: 50% !important;
  transform: translate(-50%, -50%) !important;
  width: 92vw !important;
  height: 92vh !important;
  max-width: 92vw !important;
  max-height: 92vh !important;

  object-fit: contain !important;
  background: #000 !important;

  z-index: 99999 !important;
  border: 12px solid #d4af37 !important;
  border-radius: 16px !important;
  box-shadow: 0 0 40px rgba(255, 215, 0, 0.9) !important;
}

/* Barras escuras suavizadas em cima e embaixo */
#final-video::before,
#final-video::after {
  content: "";
  position: absolute;
  left: 0;
  right: 0;
  height: 16%;
  pointer-events: none;
}

#final-video::before {
  top: 0;
  background: linear-gradient(to bottom, rgba(0,0,0,0.95), transparent);
}

#final-video::after {
  bottom: 0;
  background: linear-gradient(to top, rgba(0,0,0,0.95), transparent);
}

/* Quando o vídeo estiver tocando, some com a página final e com o botão */
body.is-playing-final-video #section-final {
  opacity: 0;
  pointer-events: none;
}

body.is-playing-final-video #btn-voltar-portal {
  opacity: 0 !important;
  pointer-events: none !important;
}





