/* ====== SEÇÃO GUIA – PAINEL CENTRALIZADO ====== */
.section-guia {
  background: transparent !important;
  padding: 24px;
  border-radius: 12px;
  max-width: 600px;
  margin: 0 auto;
  text-align: center;
  box-shadow: none;
  border: none;
  display: flex;
  justify-content: center;
  align-items: center;
  opacity: 1;
  visibility: visible;
  z-index: 2;
  overflow-y: auto;
  min-height: 80vh;
  height: 80vh;
  box-sizing: border-box;
}

/* garante o painel no centro do pergaminho */
#section-guia .j-panel-glow.guia-panel {
  margin-left: auto !important;
  margin-right: auto !important;
  left: auto !important;
  right: auto !important;
  transform: none !important;
}

#section-guia .guia-wrap,
#section-guia .conteudo-pergaminho {
  width: 100%;
  max-width: 100%;
}

.conteudo-pergaminho {
  text-align: center;
  margin: 0 auto;
  max-width: 720px;
}

/* ====== TÍTULO “ESCOLHA SEU GUIA” ====== */
.titulo-pergaminho {
  font-family: 'ManufacturingConsent', sans-serif;
  font-size: 22px;
  color: #fff;
  margin: 0 auto 12px;
  text-align: center !important;
  opacity: 0;
  visibility: visible;
  display: block;
}

.titulo-pergaminho.lumen-typing.typing-active,
.titulo-pergaminho.lumen-typing.typing-done {
  opacity: 1 !important;
  display: block !important;
  visibility: visible !important;
}

/* ====== BLOCO “DIGITE SEU NOME” ====== */

.guia-name-input.on-pergaminho {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  margin: 6px 0 14px;
  gap: 6px;
}

/* faz o texto “Insira seu nome” aparecer centralizado */
.guia-name-input .sr-only {
  position: static !important;
  width: auto !important;
  height: auto !important;
  clip: auto !important;
  clip-path: none !important;
  overflow: visible !important;
  white-space: normal !important;
  display: block !important;
  font-family: 'BerkshireSwash', cursive;
  font-size: 14px;
  color: var(--theme-main-color, #ffd700);
  text-align: center;
  margin-bottom: 2px;
}

/* input NOME logo abaixo, centralizado */
.input-espinhos {
  width: min(80%, 360px);
  padding: 10px 12px;
  background: rgba(255, 255, 255, 0.98);
  color: #3e2723;
  font-size: 16px;
  text-align: center;
  outline: none;
  border: 14px solid transparent;
  border-image: url('/assets/img/moldura-medieval-espinhos.png') 60 fill stretch;
  border-radius: 4px;
  font-family: 'Cardo', serif;
}

/* botão Confirmar logo embaixo do input */
#btn-confirmar-nome {
  margin-top: 6px;
  min-width: 140px;
  height: 38px;
  padding: 0 12px;
  font-size: 15px;
  font-family: 'ManufacturingConsent', sans-serif;
}

/* deixa o nome em caps bonitinho */
#guiaNameInput {
  text-transform: uppercase;
  letter-spacing: 1.5px;
  font-weight: 600;
}

/* ====== MOLDURA COM TEXTO DO GUIA ====== */

.moldura-grande {
  margin: 10px auto 12px;
  width: min(92%, 720px);
  min-height: 160px;
  padding: 26px 28px;
  background: url('/assets/img/moldura-medieval.png') center/100% 100% no-repeat transparent;
  display: flex;
  align-items: center;
  justify-content: center;
}

.guia-descricao-medieval {
  width: 100%;
  max-width: 760px;
  text-align: left !important;
  color: #fff;
  font-family: 'BerkshireSwash', cursive;
  font-size: 15.5px;
  line-height: 1.45;
  margin: 0 auto;
  padding: 12px 18px;
}

.guia-descricao-medieval p {
  margin: 6px 0;
}

/* ====== AVISO / STATUS ====== */

#guia-error {
  color: #ff3333;
  margin-top: 8px;
  font-family: 'BerkshireSwash', cursive;
  font-size: 14px;
  text-align: center;
}

/* ====== BOTÕES DOS GUIAS – CENTRALIZADOS ====== */

.guia-options {
  /* faixa central */
  width: min(92%, 720px);
  margin: 10px auto 4px;

  display: grid;
  grid-template-columns: repeat(3, minmax(120px, 1fr));
  gap: clamp(8px, 2.4vw, 16px);
  justify-items: center;      /* ✅ alinha no centro */
}

/* botão medieval individual */
/* BOTÕES DOS GUIAS – ocupam a coluna inteira, sem cortar o texto */
.guia-options .btn-stone-espinhos {
  padding: 8px 10px;
  font-weight: 600;
  font-size: 14px;
  color: #fff;
  background: linear-gradient(to bottom, rgba(255, 255, 255, 0.15), rgba(0, 0, 0, 0.22)),
              url('/assets/img/textura-de-pedra.jpg') center/cover no-repeat;
  border: 12px solid transparent;
  border-image: url('/assets/img/moldura-medieval-espinhos.png') 60 fill stretch;
  border-radius: 4px;
  filter: drop-shadow(0 2px 4px rgba(0,0,0,0.35));
  transition: transform 0.12s ease, filter 0.12s ease, opacity 0.12s ease;
  font-family: 'ManufacturingConsent', sans-serif;
  cursor: pointer;

  width: 100%;             /* deixa o grid controlar o tamanho */
  max-width: 180px;        /* limite de largura */
  white-space: nowrap; 
  text-align: center;
}

/* garante que o texto interno também possa quebrar */
.guia-options .btn-stone-espinhos .label,
.guia-options .btn-stone-espinhos span {
  white-space: normal;
}


.guia-options .btn-stone-espinhos:hover {
  transform: translateY(-1px);
  filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.45));
}

.guia-options .btn-stone-espinhos:disabled {
  opacity: 0.55;
  filter: grayscale(0.3);
  cursor: not-allowed;
}

/* adapta colunas no mobile */
@media (max-width: 640px) {
  .guia-options {
    grid-template-columns: repeat(2, minmax(120px, 1fr));
  }
}

@media (max-width: 380px) {
  .guia-options {
    grid-template-columns: 1fr;
  }
  .guia-options .btn-stone-espinhos {
    width: 100%;
  }
}

/* ====== VARIAÇÃO DE CORES POR GUIA (SELECIONADO) ====== */

/* fallback global */
:root {
  --espinhos-img: url('/assets/img/moldura-medieval-espinhos.png');
  --btn-gold-outer: rgba(255, 230, 120, 0.40);
  --btn-gold-mid:   rgba(255, 220, 120, 0.45);
  --btn-gold-in:    rgba(255, 255, 230, 0.25);
  --btn-gold-line:  rgba(255, 215,   0, 0.25);
  --btn-text:       #f9e7c2;
}

/* LUMEN (verde) – clicado ou hover */
body[data-guia="lumen"],
body[data-guia-hover="lumen"] {
  --aura-gold-outer: rgba(140,255,140,.85);
  --aura-gold:       rgba(120,255,160,.75);
  --aura-gold-soft:  rgba(160,255,200,.55);
  --aura-amber:      rgba(180,255,160,.45);
  --btn-gold-outer:  rgba(180,255,180,.45);
  --btn-gold-mid:    rgba(120,255,160,.45);
  --btn-gold-line:   rgba(100,255,150,.3);
}

/* ZION (azul) – clicado ou hover */
body[data-guia="zion"],
body[data-guia-hover="zion"] {
  --aura-gold-outer: rgba(120,180,255,.85);
  --aura-gold:       rgba(80,160,255,.8);
  --aura-gold-soft:  rgba(140,200,255,.55);
  --aura-amber:      rgba(100,180,255,.45);
  --btn-gold-outer:  rgba(100,180,255,.45);
  --btn-gold-mid:    rgba(80,160,255,.45);
  --btn-gold-line:   rgba(60,150,255,.35);
}

/* ARIAN (magenta) – clicado ou hover */
body[data-guia="arian"],
body[data-guia-hover="arian"] {
  --aura-gold-outer: rgba(255,120,255,.85);
  --aura-gold:       rgba(255,140,255,.75);
  --aura-gold-soft:  rgba(255,160,255,.55);
  --aura-amber:      rgba(255,100,255,.45);
  --btn-gold-outer:  rgba(255,140,255,.45);
  --btn-gold-mid:    rgba(255,160,255,.45);
  --btn-gold-line:   rgba(255,100,255,.3);
}

/* ====== BOTÃO MEDIEVAL GENÉRICO (.btn-stone-espinhos) ====== */

.btn-stone-espinhos {
  position: relative;
  overflow: hidden;
  display: inline-block;
  background: transparent !important;
  background-image: var(--espinhos-img) !important;
  background-size: 100% 100% !important;
  background-repeat: no-repeat !important;
  border: none !important;
  color: var(--btn-text) !important;
  text-shadow: 0 1px 1px rgba(0,0,0,.75);
  font-family: 'Cardo', serif;
  font-weight: 700;
  letter-spacing: .3px;
  border-radius: 10px;
  cursor: pointer;
  box-shadow:
    0 2px 8px rgba(0,0,0,.35),
    inset 0 0 0 1px var(--btn-gold-line);
  transition: all .25s ease-in-out;
}

.btn-stone-espinhos::before {
  content:'';
  position:absolute; top:0; left:0;
  width:60%; height:200%;
  background: linear-gradient(
    130deg,
    rgba(255,255,200,0) 0%,
    rgba(255,255,180,.6) 50%,
    rgba(255,255,200,0) 100%
  );
  transform: translate(-150%, -150%) rotate(25deg);
  opacity:0; pointer-events:none;
}

.btn-stone-espinhos::after {
  content:'';
  position:absolute; inset:0;
  border-radius:10px;
  box-shadow:
    0 2px 8px rgba(0,0,0,.35),
    inset 0 0 0 1px var(--btn-gold-line);
  pointer-events:none;
}

.btn-stone-espinhos:hover:not(:disabled) {
  filter: brightness(1.08);
  transform: translateY(-1px);
  animation: brilhoDivino 1.8s ease-in-out infinite;
}

.btn-stone-espinhos:hover:not(:disabled)::before {
  animation: reflexoDourado 2s linear forwards;
}

.btn-stone-espinhos:active:not(:disabled) {
  transform: translateY(0);
  filter: brightness(.98);
  animation: none;
}

.btn-stone-espinhos:disabled {
  opacity:.7; filter: grayscale(.15);
  cursor: not-allowed; animation:none;
}

/* =========================================================
   AJUSTE FINO – BOTÕES DO GUIA (DESKTOP)
   ========================================================= */
@media (min-width: 900px) {

  /* Linha onde ficam os 3 botões (Lumen, Zion, Arian) */
  #section-guia .guia-actions {
    display: flex;
    justify-content: space-between;
    gap: 8px;
    padding: 0 18px 16px;  /* dá um respiro lateral dentro do vidro */
  }

  /* Cada botão ocupa ~1/3, sem passar da borda do card */
  #section-guia .guia-actions button {
    flex: 1 1 0;
    max-width: 32%;
    padding: 6px 4px;
    font-size: 16px;
    box-sizing: border-box;
  }

  /* Garante que nada seja “cortado” na lateral direita */
  #section-guia .j-panel-glow,
  #section-guia .j-panel-glow .j-panel-inner {
    overflow: visible;
  }
}
/* =========================================================
   GUIA – BOTÕES LADO A LADO NO MOBILE (3 COLUNAS)
   ========================================================= */
@media (max-width: 600px) {

  /* faixa onde ficam Lumen / Zion / Arian */
  #section-guia .guia-buttons {
    width: min(92%, 380px) !important;   /* entra bonito dentro do vidro */
    margin: 12px auto 0 !important;

    display: grid !important;
    grid-template-columns: repeat(3, 1fr) !important;
    gap: 2px !important;                 /* se quiser colado MESMO, pode pôr 0 */
    justify-items: stretch !important;
    align-items: stretch !important;
  }

  /* cada botão ocupa 1/3 da faixa, sem quebrar linha */
  #section-guia .guia-buttons .btn-guia {
    width: 100% !important;
    min-width: 0 !important;
    padding: 6px 2px !important;
    font-size: 13px !important;
    white-space: nowrap !important;      /* evita quebrar o nome */
    box-sizing: border-box !important;
  }
}
