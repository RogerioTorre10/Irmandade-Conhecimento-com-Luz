let blockTranslations = {};

async loadBlockTranslations() {
  const url = '/i18n/blockTranslations.json';
  try {
    console.log('[i18n] Carregando blockTranslations...');
    const res = await fetch(url, { cache: 'no-store' });
    if (!res.ok) throw new Error(`HTTP ${res.status} ao carregar ${url}`);
    blockTranslations = await res.json();
    window.blockTranslations = blockTranslations;
    console.log('[i18n] blockTranslations carregado:', blockTranslations);
  } catch (e) {
    console.error('[i18n] Erro ao carregar blockTranslations:', e);
    blockTranslations = { 'pt-BR': [], 'en-US': [], 'es-ES': [] };
    window.blockTranslations = blockTranslations;
    window.toast && window.toast('Erro ao carregar blocos de perguntas');
  }
}
